<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>SCVO Widgets | Organisations</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <style>
        .copyable{
            padding-bottom:35px;
        }
        .btn.copy{
            margin-top: -40px;
            float: right;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-default">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">
					SCVO Widgets
				</a>
            </div>
        </div>
    </nav>

    <div class="container body-content">
        <h2>
            Welcome to SCVO widgets
        </h2>
        <p>
            Please chose your widget from the menu above for a demo and to see how to use it.
        </p>
    </div>

    <div class="container body-content">
        <hr />
    </div>

    <div class="container body-content">
        <h2>Organisation Search Widget</h2>
        <p>Use the following code to embed the organisations widget on your website. The "data-tsi" attribute is optional.</p>
        <pre class="copyable" id="organisations-embed">&lt;script src="https://{host}/organisations.bundle.js" data-tsi="27" data-hide-map="false"&gt;&lt;/script&gt;</pre>
        <button class="btn btn-sm copy" data-source="organisations-embed">&#128203; Copy</button>
        <script src="/organisations.bundle.js" data-hide-map="true"></script>
    </div>

    <div class="container body-content">
        <hr />
    </div>

    <div class="container body-content">
        <h2>Opportunities Search Widget</h2>
        <p>Use the following code to embed the opportunities widget on your website. The "data-tsi" attribute is optional.</p>
        <pre class="copyable" id="opportunities-embed">&lt;script src="https://{host}/opportunities.bundle.js" data-tsi="27" data-hide-map="true"&gt;&lt;/script&gt;</pre>
        <button class="btn btn-sm copy" data-source="opportunities-embed">&#128203; Copy</button>
        <script src="/opportunities.bundle.js" data-hide-map="false"></script>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2016 - SCVO</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            var host = window.location.host;
            var preTags = document.getElementsByTagName('pre');
            [].slice.call(preTags).forEach(function(pre){
                var code = pre.innerHTML;
                code = code.replace(/\{host\}/ig, host);
                pre.innerHTML = code;
            });

            new Clipboard('.btn.copy', {
                text: function(trigger){
                    var sourceId = trigger.getAttribute('data-source');
                    var source = document.getElementById(sourceId);
                    var code = source.innerHTML;
                    code = code.replace(/\&gt\;/ig, '>').replace(/\&lt\;/ig, '<');
                    console.log(code);
                    return code;
                }
            });
        });
    </script>
</body>
</html>